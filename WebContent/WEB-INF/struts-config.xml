<?xml version="1.0" encoding="ISO-8859-1" ?>

<!DOCTYPE struts-config PUBLIC
          "-//Apache Software Foundation//DTD Struts Configuration 1.3//EN"
          "http://struts.apache.org/dtds/struts-config_1_3.dtd">

<struts-config>


	<!-- ================================================ Form Bean Definitions -->

	<form-beans>

		<form-bean name="registerForm" type="ma.jemla.view.RegisterForm" />
		<form-bean name="loginForm" type="ma.jemla.view.LoginForm" />
	</form-beans>

	<action-mappings>

		<action path="/register" scope="session" name="registerForm" type="ma.jemla.controller.UserInscription"
		 validate="true" input="/WEB-INF/Pages/login.jsp">
			<forward name="success" path="/WEB-INF/Pages/EntrepriseDashboard.jsp" />
			<forward name="failure" path="/WEB-INF/Pages/login.jsp"/>
		</action>
		<action path="/login" scope="session" name="loginForm" type="ma.jemla.controller.Login"
		 validate="true" input="/WEB-INF/Pages/login.jsp">
		<!-- 	<forward name="success" path="index.jsp"/>
			<forward name="failure" path="index.jsp"/> -->
			<forward name="success" path="/WEB-INF/Pages/EntrepriseDashboard.jsp" />
			<forward name="failure" path="/WEB-INF/Pages/login.jsp"/>
		</action>
		<action path="/loginRedirect" type="ma.jemla.controller.LoginRedirect" >
			<forward name="success" path="/WEB-INF/Pages/EntrepriseDashboard.jsp" />
			<forward name="failure" path="/WEB-INF/Pages/login.jsp"/>
		</action>
		<action path="/inbox" scope="session" type="ma.jemla.controller.Inbox" >
			<forward name="success" path="/WEB-INF/Pages/DashboardInbox.jsp" />
			<forward name="failure" path="/WEB-INF/Pages/login.jsp"/>
		</action>
		<action path="/cart" scope="session" type="ma.jemla.controller.CartRedirect" >
			<forward name="success" path="/WEB-INF/Pages/cart.jsp" />
			<forward name="failure" path="/WEB-INF/Pages/cart.jsp"/>
		</action>
		
		<action path="/checkout" scope="session" type="ma.jemla.controller.CheckoutRedirect" >
			<forward name="success" path="/WEB-INF/Pages/checkout.jsp" />
			<forward name="failure" path="/WEB-INF/Pages/checkout.jsp"/>
		</action>
		<action path="/contactUs" forward="/WEB-INF/Pages/contact-us.jsp"/>
		<action path="/managerLogin" forward="/WEB-INF/Pages/ManagerLogin.jsp"/>
	</action-mappings>


	<!-- ======================================== Message Resources Definitions -->

	<message-resources parameter="MessageResources" />


	<!-- =============================================== Plug Ins Configuration -->


	<!-- =================================================== Validator plugin -->

	<plug-in className="org.apache.struts.validator.ValidatorPlugIn">
		<set-property property="pathnames"
			value="/org/apache/struts/validator/validator-rules.xml,
               /WEB-INF/validation.xml" />
	</plug-in>

</struts-config>
